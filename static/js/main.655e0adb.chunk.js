(this.webpackJsonprentacar=this.webpackJsonprentacar||[]).push([[0],{222:function(e,t,n){},242:function(e,t,n){},247:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(37),i=n.n(c),s=(n(222),n(223),n(30)),o=n(31),d=n(18),l=n(409),u=n(410),j=n(411),b=n(412),m=n(413),h=n(395),O=n(99),p=n(23),f=n.n(p),x=n(3),g=Object(r.createContext)();function y(e){var t=e.children,n=function(){var e=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("username");return!!e&&(f.a.defaults.headers.common.Authorization="Bearer "+e,{username:t})},t=Object(r.useState)(e),n=Object(d.a)(t,2),a=n[0],c=n[1];return{user:a,signin:function(e,t,n){var r={Username:e,password:t};return f.a.post("token",r,{withCredentials:!0}).then((function(t){return localStorage.setItem("token",t.data.token),localStorage.setItem("username",e),f.a.defaults.headers.common.Authorization="Bearer "+t.data.token,c({username:e}),Promise.resolve(t)})).catch((function(e){return e.response&&403===e.response.status?Promise.reject(new Error("Incorrect username or password")):Promise.reject(new Error("An unexpected error occurred"))}))},signout:function(){c(!1),localStorage.removeItem("token")}}}();return Object(x.jsx)(g.Provider,{value:n,children:t})}var A=function(){return Object(r.useContext)(g)};n(242);var v=h.a.Header,I=h.a.Content,E=h.a.Footer,w=h.a.Sider,S=O.a.SubMenu;var k=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(d.a)(n,2),c=a[0],i=a[1],o=A();return Object(x.jsxs)(h.a,{style:{minHeight:"100vh",backgroundColor:"red"},children:[Object(x.jsxs)(w,{collapsible:!0,collapsed:c,onCollapse:function(e){i(e)},children:[Object(x.jsx)("div",{className:"logo",children:Object(x.jsx)("img",{src:"/rent-a-car/rent-horizontal-logo-gris.png",width:"165",alt:"Rent a car logo"})}),Object(x.jsxs)(O.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(x.jsx)(O.a.Item,{icon:Object(x.jsx)(l.a,{}),children:Object(x.jsx)(s.c,{to:"/cars",children:"Cars"})},"1"),Object(x.jsx)(O.a.Item,{icon:Object(x.jsx)(u.a,{}),children:Object(x.jsx)(s.c,{to:"/reservations",children:"Reservations"})},"2"),Object(x.jsx)(O.a.Item,{icon:Object(x.jsx)(j.a,{}),children:Object(x.jsx)(s.c,{to:"/clients",children:"Clients"})},"3"),Object(x.jsxs)(S,{icon:Object(x.jsx)(b.a,{}),title:"Settings ",children:[Object(x.jsx)(O.a.Item,{children:Object(x.jsx)(s.c,{to:"/bodytypes",children:"Body Types"})},"4"),Object(x.jsx)(O.a.Item,{children:Object(x.jsx)(s.c,{to:"/brands",children:"Brands"})},"5"),Object(x.jsx)(O.a.Item,{children:Object(x.jsx)(s.c,{to:"/paymentypes",children:"Payment Types"})},"6"),Object(x.jsx)(O.a.Item,{children:Object(x.jsx)(s.c,{to:"/documentypes",children:"Document Types"})},"7")]},"sub1"),Object(x.jsx)(S,{icon:Object(x.jsx)(m.a,{}),title:"User",children:Object(x.jsx)(O.a.Item,{onClick:o.signout,children:"Log Out"},"8")},"sub2")]})]}),Object(x.jsxs)(h.a,{className:"site-layout background-layout-color",children:[Object(x.jsx)(v,{className:"site-layout-background",style:{padding:0}}),Object(x.jsx)(I,{style:{margin:"0 16px"},children:t}),Object(x.jsx)(E,{className:"background-layout-color",style:{textAlign:"center"},children:"Created by Pablo Barrera"})]})]})},C=n(11),Q=n(152);function P(e){var t=e.children,n=Object(Q.a)(e,["children"]),r=A();return Object(x.jsx)(o.b,Object(C.a)(Object(C.a)({},n),{},{render:function(e){var n=e.location;return r.user?t:Object(x.jsx)(o.a,{to:{pathname:"/login",state:{from:n}}})}}))}var N=n(414),B=n(402),T=n(215),F=n(399),q=n(401),J=n(405),D=n(41),Y=n(113),M=n(66),U=n(404),K=n(82),R=n(403),z=n(400),L=n(51),H=function(){return f.a.get("bodyType").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the body types")}))},V=function(){return f.a.get("brand").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the brands.")}))},G=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f.a.get("car",{params:e}).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the cars")}))},Z=(n(247),"show"),X="edit";function W(){var e=Object(o.h)().id,t=B.a.useForm(),n=Object(d.a)(t,1)[0],a=Object(o.g)(),c=Object(r.useState)(""),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(r.useState)([]),b=Object(d.a)(j,2),m=b[0],h=b[1],O=Object(r.useState)([]),p=Object(d.a)(O,2),g=p[0],y=p[1],A=Object(r.useState)("new"),v=Object(d.a)(A,2),I=v[0],E=v[1],w=Object(r.useState)(!1),S=Object(d.a)(w,2),k=S[0],Q=S[1],P=Object(r.useState)(!1),G=Object(d.a)(P,2),W=G[0],_=G[1];Object(r.useEffect)((function(){V().then((function(e){h(e)})).catch((function(e){return T.b.error(e)})),H().then((function(e){return y(e)})).catch((function(e){return T.b.error(e)})),$()}),[]);var $=function(){a.pathname.includes(Z)?(E(Z),ee()):a.pathname.includes(X)&&(E(X),ee())},ee=function(){(function(e){return f.a.get("car/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the car data")}))})(e).then((function(e){u(e.image),n.setFieldsValue({model:e.model,brandId:e.brand.id,doors:e.doors,airConditioner:e.airConditioner,pricePerDay:e.pricePerDay,gearbox:e.gearbox,year:e.year,bodyTypeId:e.bodyType.id,seats:e.seats,available:e.available})})).catch((function(e){return T.b.error(e)}))},te={input:{bordered:I!==Z,disabled:I===Z},select:{bordered:I!==Z,showArrow:I!==Z,disabled:I===Z}};return Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Car information",bordered:!1,children:[W?Object(x.jsx)(J.a,{status:"success",title:"Car Saved Successfully",extra:[Object(x.jsx)(s.c,{to:"/cars",children:Object(x.jsx)(D.a,{type:"primary",children:"Back to car list"},"console")}),Object(x.jsxs)(s.c,{to:"/reservations",children:[Object(x.jsx)(D.a,{children:"Create reservation"},"buy"),","]})]}):null,Object(x.jsx)(B.a,Object(C.a)(Object(C.a)({},{labelCol:{span:3},wrapperCol:{span:16}}),{},{form:n,hidden:W,name:"control-hooks",onFinish:function(t){Q(!0),t.id=parseInt(e),t.image=t.image?t.image[0].originFileObj:null,function(e,t){console.log("desde cars service, car",e);var n=new FormData;return n.append("id",e.id),n.append("model",e.model),n.append("brandId",e.brandId),n.append("doors",e.doors),n.append("airConditioner",e.airConditioner),n.append("pricePerDay",e.pricePerDay),n.append("gearbox",e.gearbox),n.append("year",e.year),n.append("bodyTypeId",e.bodyTypeId),n.append("seats",e.seats),n.append("available",e.available),n.append("image",e.image),console.log("cars service, car:",e,"action",t),f()({method:"new"===t?"post":"put",url:"car",data:n}).then((function(){return Promise.resolve()})).catch((function(e){return Promise.reject("Something gone wrong saving the car.",e)}))}(t,I).then((function(e){_(!0)})).catch((function(e){return T.b.error(e)})).finally((function(){return Q(!1)}))},requiredMark:!1,validateMessages:{required:"This field is required!"},children:Object(x.jsxs)(Y.a,{children:[Object(x.jsxs)(M.a,{span:12,children:[Object(x.jsx)(B.a.Item,{name:"model",label:"Model",rules:[{required:!0}],children:Object(x.jsx)(U.a,Object(C.a)({},te.input))}),Object(x.jsx)(B.a.Item,{name:"brandId",label:"Brand",rules:[{required:!0}],children:Object(x.jsx)(K.a,Object(C.a)(Object(C.a)({},te.select),{},{children:m.map((function(e){return Object(x.jsx)(L.Option,{value:e.id,children:e.name})}))}))}),Object(x.jsx)(B.a.Item,{name:"doors",label:"Doors",rules:[{required:!0}],children:Object(x.jsx)(R.a,Object(C.a)(Object(C.a)({},te.input),{},{min:1,max:5}))}),Object(x.jsx)(B.a.Item,{name:"airConditioner",label:"Air conditioner",defaultValue:!1,rules:[{required:!0}],children:Object(x.jsxs)(K.a,Object(C.a)(Object(C.a)({},te.select),{},{children:[Object(x.jsx)(L.Option,{value:!0,children:"Yes"}),Object(x.jsx)(L.Option,{value:!1,children:"No"})]}))}),Object(x.jsx)(B.a.Item,{name:"pricePerDay",label:"Price per day",rules:[{required:!0}],children:Object(x.jsx)(R.a,Object(C.a)(Object(C.a)({},te.input),{},{min:400,max:5e3}))}),Object(x.jsx)(B.a.Item,{name:"gearbox",label:"Gearbox",defaultValue:!1,rules:[{required:!0}],children:Object(x.jsxs)(K.a,Object(C.a)(Object(C.a)({},te.select),{},{children:[Object(x.jsx)(L.Option,{value:"Automatic",children:"Automatic"}),Object(x.jsx)(L.Option,{value:"Manual",children:"Manual"})]}))}),Object(x.jsx)(B.a.Item,{name:"year",label:"Year",rules:[{required:!0}],children:Object(x.jsx)(R.a,Object(C.a)(Object(C.a)({},te.input),{},{min:2e3,max:2030}))}),Object(x.jsx)(B.a.Item,{name:"seats",label:"Seats",rules:[{required:!0}],children:Object(x.jsx)(R.a,Object(C.a)(Object(C.a)({},te.input),{},{min:2,max:15}))}),Object(x.jsx)(B.a.Item,{name:"bodyTypeId",label:"Body type",rules:[{required:!0}],children:Object(x.jsx)(K.a,Object(C.a)(Object(C.a)({},te.select),{},{children:g.map((function(e){return Object(x.jsx)(L.Option,{value:e.id,children:e.name})}))}))}),Object(x.jsx)(B.a.Item,{hidden:"new"===I,name:"available",label:"Available",defaultValue:!1,rules:[{required:I===X}],children:Object(x.jsxs)(K.a,Object(C.a)(Object(C.a)({className:"disabled-input"},te.select),{},{children:[Object(x.jsx)(L.Option,{value:!0,children:"Yes"}),Object(x.jsx)(L.Option,{value:!1,children:"No"})]}))}),Object(x.jsxs)(B.a.Item,Object(C.a)(Object(C.a)({},{wrapperCol:{offset:4,span:12}}),{},{children:[Object(x.jsx)(D.a,{type:"primary",size:"large",block:!0,hidden:I!==Z,onClick:function(){return E(X)},children:"Edit"}),Object(x.jsx)(D.a,{type:"primary",size:"large",block:!0,hidden:I===Z,htmlType:"submit",loading:k,children:"Save"})]}))]}),Object(x.jsx)(M.a,{span:12,children:Object(x.jsx)(Y.a,{type:"flex",justify:"center",align:"middle",children:Object(x.jsxs)(M.a,{span:14,children:[Object(x.jsx)(z.a,{src:l,width:"100%",fallback:"data:image/png;base64,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"}),Object(x.jsx)(B.a.Item,{name:"image",label:"Upload",hidden:I===Z,valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList},children:Object(x.jsx)(F.a,{name:"logo",listType:"picture",beforeUpload:function(e){return"image/png"!==e.type&&T.b.error("".concat(e.name," is not a png file")),"image/png"!==e.type&&F.a.LIST_IGNORE},maxCount:1,children:Object(x.jsx)(D.a,{icon:Object(x.jsx)(N.a,{}),children:"Click to upload (only PNG)"})})})]})})})]})}))]})})}var _=n(110),$=n(415),ee=n(407),te=n(71),ne=n(397);n(389);var re=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(o.f)(),i=[{title:"Model",dataIndex:"model",key:"model"},{title:"Brand",dataIndex:"brand",key:"brand",render:function(e){return e.name}},{title:"Year",dataIndex:"year",key:"year"},{title:"Body Type",key:"bodyType",dataIndex:"bodyType",render:function(e){return e.name}},{title:"Seats",dataIndex:"seats",key:"seats"},{title:"Price Per Day",dataIndex:"pricePerDay",key:"pricePerDay"},{title:"Action",key:"action",render:function(e,t){return Object(x.jsxs)(ee.b,{size:"middle",children:[Object(x.jsx)(te.a,{title:"Show",children:Object(x.jsx)(D.a,{shape:"circle",onClick:function(){return l(Z,t.id)},icon:Object(x.jsx)(_.a,{})})}),Object(x.jsx)(te.a,{title:"Edit",children:Object(x.jsx)(D.a,{shape:"circle",onClick:function(){return l(X,t.id)},icon:Object(x.jsx)($.a,{})})})]})}}],l=function(e,t){c.replace("/cars/".concat(e,"/").concat(t))};return Object(r.useEffect)((function(){G().then((function(e){return a(e)}))}),[]),Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Cars managment",bordered:!1,children:[Object(x.jsxs)(s.c,{to:"/cars/new",children:[Object(x.jsx)(D.a,{type:"primary",children:"Create new"})," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]}),Object(x.jsx)(ne.a,{columns:i,rowKey:"id",dataSource:n})]})})},ae=n(416),ce=n(406);n(390);function ie(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(d.a)(c,2),l=i[0],u=i[1],b=A(),m=Object(o.f)();return Object(x.jsxs)(x.Fragment,{children:[n?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ce.a,{message:n,showIcon:!1,type:"error"}),Object(x.jsx)("br",{})]}):null,Object(x.jsx)(q.a,{id:"login-form",children:Object(x.jsxs)(B.a,{name:"normal_login",initialValues:{remember:!0},onFinish:function(e){u(!0),b.signin(e.username,e.password).then((function(e){return m.replace("/cars")})).catch((function(e){a(e.message),u(!1)}))},children:[Object(x.jsx)(B.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(x.jsx)(U.a,{prefix:Object(x.jsx)(j.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(x.jsx)(B.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(x.jsx)(U.a,{prefix:Object(x.jsx)(ae.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),"You do not have an account?  ",Object(x.jsx)(s.b,{to:"./register",children:"Register now"}),Object(x.jsx)("br",{}),Object(x.jsx)(B.a.Item,{className:"no-bottom-margin",children:Object(x.jsx)(D.a,{block:!0,type:"primary",htmlType:"submit",className:"login-form-button",loading:l,children:l?"Singing In":"Sing In"})})]})})]})}var se=function(){return Object(x.jsx)(Y.a,{className:"fullHeight",type:"flex",justify:"center",align:"middle",children:Object(x.jsxs)(M.a,{style:{marginTop:"-17vh"},children:[Object(x.jsx)(Y.a,{type:"flex",justify:"center",align:"middle",style:{marginBottom:"10px"},children:Object(x.jsx)(M.a,{children:Object(x.jsx)("img",{src:"/rent-a-car/rent-logo.png",height:"200",alt:"Rent a car logo"})})}),Object(x.jsx)(ie,{})]})})},oe=n(153),de="show",le="edit";var ue=function(){var e=Object(o.f)(),t=Object(r.useState)([]),n=Object(d.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(null),l=Object(d.a)(i,2),u=l[0],j=l[1];Object(r.useEffect)((function(){O()}),[]);var b=[{title:"ID",dataIndex:"id",key:"id"},{title:"Pick up",dataIndex:"pickUp",key:"pickUp",render:function(e){return e.split("T")[0]}},{title:"Drop off",dataIndex:"dropOff",key:"dropOff",render:function(e){return e.split("T")[0]}},{title:"Client",key:"client",dataIndex:"client",render:function(e){return e.lastName+", "+e.firstName}},{title:"Status",key:"status",dataIndex:"status"},{title:"User",dataIndex:"user",key:"user",render:function(e){return e.username}},{title:"Car",dataIndex:"car",key:"car",render:function(e){return e.model}},{title:"Action",key:"action",render:function(e,t){return Object(x.jsxs)(ee.b,{size:"middle",children:[Object(x.jsx)(te.a,{title:"Finish rental ",children:Object(x.jsx)(D.a,{shape:"circle",disabled:"Paid"!==t.status,loading:u===t.id,onClick:function(){return m(t.id)},icon:Object(x.jsx)(oe.a,{})})}),Object(x.jsx)(te.a,{title:"Show",children:Object(x.jsx)(D.a,{shape:"circle",onClick:function(){return h(de,t.id)},icon:Object(x.jsx)(_.a,{})})}),Object(x.jsx)(te.a,{title:"Edit",children:Object(x.jsx)(D.a,{shape:"circle",disabled:"Finished"===t.status,onClick:function(){return h(le,t.id)},icon:Object(x.jsx)($.a,{})})})]})}}],m=function(e){j(e),function(e){return f.a.put("reservation/finish/".concat(e)).catch((function(e){return e.response&&400===e.response.status?Promise.reject(e.response.data.bussinessValidation[0]):Promise.reject("Something gone wrong finishing the car")}))}(e).then((function(){return O()})).catch((function(e){return T.b.error(e)})).finally((function(e){return j(null)}))},h=function(t,n){e.replace("/reservations/".concat(t,"/").concat(n))},O=function(){f.a.get("reservation").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the reservations.")})).then((function(e){c(e)})).catch((function(e){return T.b.error(e)}))};return Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Reservation managment",bordered:!1,children:[Object(x.jsxs)(s.c,{to:"/reservations/new",children:[Object(x.jsx)(D.a,{type:"primary",children:"Create new"})," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]}),Object(x.jsx)(ne.a,{columns:b,rowKey:"id",dataSource:a})]})})},je=n(398),be=n(148),me=n(59),he=n.n(me),Oe=function(){return f.a.get("client").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the clients")}))},pe=function(){return f.a.get("paymentType").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the payments types")}))},fe=je.a.RangePicker;var xe=function(){var e=Object(o.h)().id,t=B.a.useForm(),n=Object(d.a)(t,1)[0],a=Object(o.g)(),c=Object(r.useState)("new"),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),m=b[0],h=b[1],O=Object(r.useState)(!1),p=Object(d.a)(O,2),g=p[0],y=p[1],A=Object(r.useState)([]),v=Object(d.a)(A,2),I=v[0],E=v[1],w=Object(r.useState)([]),S=Object(d.a)(w,2),k=S[0],Q=S[1],P=Object(r.useState)([]),N=Object(d.a)(P,2),F=N[0],U=N[1],R=Object(r.useState)(!1),z=Object(d.a)(R,2),H=z[0],V=z[1];Object(r.useEffect)((function(){W(),_()}),[]);var Z={input:{bordered:l!==de,disabled:l===de},select:{bordered:l!==de,disabled:l===de},rangePicker:{bordered:l!==de,disabled:l===de}},X=function(){(function(e){return f.a.get("reservation/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the reservation")}))})(e).then((function(e){V("Finished"!==e.status),n.setFieldsValue({clientId:e.client.id,carId:e.car.id,paymentTypeId:e.paymentType.id,paid:"Pending"!==e.status,"range-picker":[he()(e.pickUp),he()(e.dropOff)]})})).catch((function(e){return T.b.error(e)}))},W=function(){Oe().then((function(e){E(e)})).catch((function(e){return T.b.error(e)})),G(!0).then((function(e){Q(e)})).catch((function(e){return T.b.error(e)})),pe().then((function(e){return U(e)})).catch((function(e){return T.b.error(e)}))},_=function(){a.pathname.includes(de)?(u(de),X()):a.pathname.includes(le)&&(u(le),X())};return Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Reservation",bordered:!1,children:[g?Object(x.jsx)(J.a,{status:"success",title:"Reservation Saved Successfully",extra:[Object(x.jsx)(s.c,{to:"/reservations",children:Object(x.jsx)(D.a,{type:"primary",children:"Back to reservation list"},"console")}),Object(x.jsx)(D.a,{onClick:function(){y(!1),n.resetFields()},children:"Create new reservation"},"buy")]}):null,Object(x.jsx)(B.a,Object(C.a)(Object(C.a)({},{labelCol:{span:3},wrapperCol:{span:16}}),{},{form:n,hidden:g,name:"control-hooks",onFinish:function(t){var r=t["range-picker"];h(!0),function(e,t){return f()({method:"new"===t?"post":"put",url:"reservation",data:e}).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return e.response&&400===e.response.status?Promise.reject(e.response.data):Promise.reject("Something gone wrong saving the reservation.")}))}(Object(C.a)(Object(C.a)({},t),{},{id:e,pickUp:r[0].format("YYYY-MM-DD"),dropOff:r[1].format("YYYY-MM-DD")}),l).then((function(e){return y(!0)})).catch((function(e){"string"===typeof e?T.b.error(e):Object.keys(e).forEach((function(t){"bussinessValidation"===t?T.b.error(e[t][0]):n.setFields([{name:t,errors:[e[t]]}])}))})).finally((function(){return h(!1)}))},requiredMark:!1,validateMessages:{required:"This field is required!"},children:Object(x.jsxs)(Y.a,{children:[Object(x.jsxs)(M.a,{span:12,children:[Object(x.jsx)(B.a.Item,{name:"clientId",label:"Client",defaultValue:!1,rules:[{required:!0}],children:Object(x.jsx)(K.a,Object(C.a)(Object(C.a)({showSearch:!0,optionFilterProp:"children"},Z.select),{},{children:I.map((function(e){return Object(x.jsx)(L.Option,{value:e.id,children:e.documentNumber+" - "+e.lastName+", "+e.firstName})}))}))}),Object(x.jsx)(B.a.Item,{name:"carId",label:"Car",defaultValue:!1,rules:[{required:!0}],children:Object(x.jsx)(K.a,Object(C.a)(Object(C.a)({showSearch:!0,optionFilterProp:"children"},Z.select),{},{children:k.map((function(e){return Object(x.jsx)(L.Option,{value:e.id,children:e.brand.name+" - "+e.model+" - Price per day $"+e.pricePerDay+" Seats: "+e.seats+" Air coinditioner: "+(e.airCoinditioner?"Yes":"No")})}))}))}),Object(x.jsx)(B.a.Item,Object(C.a)(Object(C.a)({name:"range-picker",label:"Period"},{rules:[{type:"array",required:!0,message:"Please select time!"}]}),{},{children:Object(x.jsx)(fe,Object(C.a)(Object(C.a)({},Z.rangePicker),{},{disabledDate:function(e){return e&&e.valueOf()<Date.now()}}))})),Object(x.jsx)(B.a.Item,{name:"paymentTypeId",label:"Payment Type",defaultValue:!1,rules:[{required:!0}],children:Object(x.jsx)(K.a,Object(C.a)(Object(C.a)({},Z.select),{},{children:F.map((function(e){return Object(x.jsx)(L.Option,{value:e.id,children:e.name})}))}))}),Object(x.jsx)(B.a.Item,{name:"paid",label:"Paid",defaultValue:!1,rules:[{required:!0}],children:Object(x.jsxs)(be.a.Group,Object(C.a)(Object(C.a)({},Z.input),{},{children:[Object(x.jsx)(be.a,{value:!0,children:"Yes"}),Object(x.jsx)(be.a,{value:!1,children:"No"})]}))}),Object(x.jsxs)(B.a.Item,Object(C.a)(Object(C.a)({},{wrapperCol:{offset:4,span:12}}),{},{children:[Object(x.jsx)(D.a,{type:"primary",size:"large",block:!0,disabled:!H,hidden:l!==de,onClick:function(){return u(le)},children:"Edit"}),Object(x.jsx)(D.a,{type:"primary",size:"large",block:!0,hidden:"show"===l,htmlType:"submit",loading:m,children:"Save"})]}))]}),Object(x.jsx)(M.a,{span:12})]})}))]})})},ge="show",ye="edit";var Ae=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(o.f)(),i=[{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Document Number",dataIndex:"documentNumber",key:"documentNumber"},{title:"Phone Number",key:"phoneNumber",dataIndex:"phoneNumber"},{title:"Country",dataIndex:"country",key:"country",render:function(e){return e.name}},{title:"Birthday",dataIndex:"birthday",key:"birthday",render:function(e){return e.split("T")[0]}},{title:"Action",key:"action",render:function(e,t){return Object(x.jsxs)(ee.b,{size:"middle",children:[Object(x.jsx)(te.a,{title:"Show",children:Object(x.jsx)(D.a,{shape:"circle",onClick:function(){return l(ge,t.id)},icon:Object(x.jsx)(_.a,{})})}),Object(x.jsx)(te.a,{title:"Edit",children:Object(x.jsx)(D.a,{shape:"circle",onClick:function(){return l(ye,t.id)},icon:Object(x.jsx)($.a,{})})})]})}}],l=function(e,t){c.replace("/clients/".concat(e,"/").concat(t))};return Object(r.useEffect)((function(){Oe().then((function(e){return a(e)}))}),[]),Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Clients managment",bordered:!1,children:[Object(x.jsxs)(s.c,{to:"/clients/new",children:[Object(x.jsx)(D.a,{type:"primary",children:"Create new"})," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]}),Object(x.jsx)(ne.a,{columns:i,rowKey:"id",dataSource:n})]})})},ve=n(396),Ie=function(){return f.a.get("documentType").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.resolve("Something gone wrong getting the documents types.")}))};var Ee=function(){var e=Object(o.h)().id,t=B.a.useForm(),n=Object(d.a)(t,1)[0],a=Object(o.g)(),c=Object(r.useState)("new"),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),m=b[0],h=b[1],O=Object(r.useState)(!1),p=Object(d.a)(O,2),g=p[0],y=p[1],A=Object(r.useState)([]),v=Object(d.a)(A,2),I=v[0],E=v[1],w=Object(r.useState)([]),S=Object(d.a)(w,2),k=S[0],Q=S[1];Object(r.useEffect)((function(){F(),R()}),[]);var P={input:{bordered:l!==ge,disabled:l===ge},select:{bordered:l!==ge,disabled:l===ge},rangePicker:{bordered:l!==ge,disabled:l===ge}},N=function(){(function(e){return f.a.get("client/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the clients")}))})(e).then((function(e){console.log("res",e),n.setFieldsValue({firstName:e.firstName,lastName:e.lastName,documentNumber:e.documentNumber,street:e.street,phoneNumber:e.phoneNumber,emailAddress:e.emailAddress,birthday:he()(e.birthday),country:e.country?e.country.name:"",documentTypeId:e.documentType.id})})).catch((function(e){return T.b.error(e)}))},F=function(){Ie().then((function(e){return E(e)})).catch((function(e){return T.b.error(e)})),f.a.get("country").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject("Something gone wrong getting the countries")})).then((function(e){var t=e.map((function(e){return{key:e.id,value:e.name}}));Q(t)})).catch((function(e){return T.b.error(e)}))},R=function(){a.pathname.includes(ge)?(u(ge),N()):a.pathname.includes(ye)&&(u(ye),N())};return Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Reservation",bordered:!1,children:[g?Object(x.jsx)(J.a,{status:"success",title:"Client Saved Successfully",extra:[Object(x.jsx)(s.c,{to:"/clients",children:Object(x.jsx)(D.a,{type:"primary",children:"Back to clients list"},"console")}),Object(x.jsx)(s.c,{to:"/reservations/new",children:Object(x.jsx)(D.a,{children:"Create new reservation"},"buy")})]}):null,Object(x.jsx)(B.a,Object(C.a)(Object(C.a)({},{labelCol:{span:4},wrapperCol:{span:16}}),{},{form:n,hidden:g,name:"control-hooks",onFinish:function(t){h(!0),t.country=t.country.toLowerCase();var r=k.find((function(e){return e.value.toLowerCase()===t.country}));(function(e,t){return f()({method:"new"===t?"post":"put",url:"client",data:e}).catch((function(e){return e.response&&400===e.response.status?Promise.reject(e.response.data):Promise.reject("Something gone wrong saving the reservation.")}))})(Object(C.a)(Object(C.a)({},t),{},{id:e,birthday:t.birthday.format("YYYY-MM-DD"),country:r?{id:r.key,name:r.value}:{id:0,name:t.country}}),l).then((function(e){return y(!0)})).catch((function(e){"string"===typeof e?T.b.error(e):Object.keys(e).forEach((function(t){"bussinessValidation"===t?T.b.error(e[t][0]):n.setFields([{name:t,errors:[e[t]]}])}))})).finally((function(){return h(!1)}))},requiredMark:!1,validateMessages:{required:"This field is required!",types:{email:"Email is invalid!"}},children:Object(x.jsxs)(Y.a,{children:[Object(x.jsxs)(M.a,{span:12,children:[Object(x.jsx)(B.a.Item,{name:"firstName",label:"First Name",rules:[{required:!0}],children:Object(x.jsx)(U.a,Object(C.a)({},P.input))}),Object(x.jsx)(B.a.Item,{name:"lastName",label:"Last Name",rules:[{required:!0}],children:Object(x.jsx)(U.a,Object(C.a)({},P.input))}),Object(x.jsx)(B.a.Item,{name:"documentTypeId",label:"Document Type",defaultValue:!1,rules:[{required:!0}],children:Object(x.jsx)(K.a,Object(C.a)(Object(C.a)({},P.select),{},{children:I.map((function(e){return Object(x.jsx)(L.Option,{value:e.id,children:e.name})}))}))}),Object(x.jsx)(B.a.Item,{name:"documentNumber",label:"Document Number",rules:[{required:!0}],children:Object(x.jsx)(U.a,Object(C.a)({},P.input))}),Object(x.jsx)(B.a.Item,{name:"country",label:"Country",rules:[{required:!0}],children:Object(x.jsx)(ve.a,Object(C.a)(Object(C.a)({options:k},P.input),{},{style:{width:200},filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}}))}),Object(x.jsx)(B.a.Item,{name:"street",label:"Street",rules:[{required:!0}],children:Object(x.jsx)(U.a,Object(C.a)({},P.input))}),Object(x.jsx)(B.a.Item,{name:"phoneNumber",label:"Phone Number",rules:[{required:!0}],children:Object(x.jsx)(U.a,Object(C.a)({},P.input))}),Object(x.jsx)(B.a.Item,{name:"emailAddress",label:"Email Address",rules:[{required:!0,type:"email"}],children:Object(x.jsx)(U.a,Object(C.a)({},P.input))}),Object(x.jsx)(B.a.Item,{label:"Birthday",name:"birthday",rules:[{required:!0}],children:Object(x.jsx)(je.a,Object(C.a)({},P.input))}),Object(x.jsxs)(B.a.Item,Object(C.a)(Object(C.a)({},{wrapperCol:{offset:4,span:12}}),{},{children:[Object(x.jsx)(D.a,{type:"primary",size:"large",block:!0,hidden:l!==ge,onClick:function(){return u(ye)},children:"Edit"}),Object(x.jsx)(D.a,{type:"primary",size:"large",block:!0,hidden:"show"===l,htmlType:"submit",loading:m,children:"Save"})]}))]}),Object(x.jsx)(M.a,{span:12})]})}))]})})},we=n(64),Se=n.n(we),ke=n(89),Ce=n(45),Qe=n(417),Pe=n(155),Ne=n(408),Be=function(e){var t=e.editing,n=e.dataIndex,r=(e.title,e.inputType),a=(e.record,e.index,e.children),c=Object(Q.a)(e,["editing","dataIndex","title","inputType","record","index","children"]),i="number"===r?Object(x.jsx)(R.a,{}):Object(x.jsx)(U.a,{});return Object(x.jsx)("td",Object(C.a)(Object(C.a)({},c),{},{children:t?Object(x.jsx)(B.a.Item,{name:n,style:{margin:0},children:i}):a}))};var Te=function(){var e=B.a.useForm(),t=Object(d.a)(e,1)[0],n=Object(r.useState)([]),a=Object(d.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),m=b[0],h=b[1],O=Object(r.useState)(1),p=Object(d.a)(O,2),g=p[0],y=p[1];Object(r.useEffect)((function(){I()}),[]);var A=function(e){return e.id===l},v=function(e){t.setFieldsValue(Object(C.a)({},e)),u(e.id)},I=function(){H().then((function(e){i(e)})).catch((function(e){return T.b.error(e)}))},E=function(){var e=Object(Ce.a)(c),t=e.findIndex((function(e){return-1===e.id}));-1!==t&&(e.splice(t,1),i(e)),u("")},w=function(){var e=Object(ke.a)(Se.a.mark((function e(n){var r,a,i,s,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,t.validateFields();case 4:r=e.sent,a=Object(Ce.a)(c),(i=a.findIndex((function(e){return n===e.id})))>-1?(s=a[i],o=Object(C.a)(Object(C.a)({},s),r),a.splice(i,1,o),(d=o,l=-1===s.id?"new":"edit",f()({method:"new"===l?"post":"put",url:"bodytype",data:d}).catch((function(e){return e.response&&400===e.response.status?e.response.data&&e.response.data.name?Promise.reject(e.response.data.name[0]):Promise.reject("Please verify the information submitted."):Promise.reject("Something gone wrong saving the reservation.")}))).then((function(){I(),u("")})).catch((function(e){return T.b.error(e)})).finally((function(){return h(!1)}))):T.b.error("Something gone wrong. Please try again later."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Err:",e.t0);case 13:case"end":return e.stop()}var d,l}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),S=[{title:"Name",dataIndex:"name",editable:!0},{title:"Description",dataIndex:"description",editable:!0},{title:"Action",dataIndex:"action",width:"15%",render:function(e,t){return A(t)?Object(x.jsxs)(ee.b,{size:"small",children:[Object(x.jsx)(te.a,{title:"Save",children:Object(x.jsx)(D.a,{shape:"circle",loading:m,onClick:function(){return w(t.id)},icon:Object(x.jsx)(Qe.a,{})})}),Object(x.jsx)(Ne.a,{title:"Sure to cancel?",onConfirm:function(){return E(t.id)},children:Object(x.jsx)(D.a,{shape:"circle",icon:Object(x.jsx)(Pe.a,{})})})]}):Object(x.jsx)(te.a,{title:"Edit",children:Object(x.jsx)(D.a,{disabled:""!==l,shape:"circle",onClick:function(){return v(t)},icon:Object(x.jsx)($.a,{})})})}}].map((function(e){return e.editable?Object(C.a)(Object(C.a)({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:A(t)}}}):e}));return Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Body Types Managment",bordered:!1,children:[Object(x.jsx)(D.a,{onClick:function(){y(1);var e={id:-1,name:"",description:""};v(e),i([e].concat(Object(Ce.a)(c)))},disabled:""!==l,type:"primary",style:{marginBottom:16},children:"Add a Body Type"}),Object(x.jsx)(B.a,{form:t,component:!1,children:Object(x.jsx)(ne.a,{components:{body:{cell:Be}},bordered:!0,dataSource:c,columns:S,rowClassName:"editable-row",pagination:{onChange:function(e){y(e),E()},current:g}})})]})})};var Fe=function(){var e=B.a.useForm(),t=Object(d.a)(e,1)[0],n=Object(r.useState)([]),a=Object(d.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),m=b[0],h=b[1],O=Object(r.useState)(1),p=Object(d.a)(O,2),g=p[0],y=p[1];Object(r.useEffect)((function(){I()}),[]);var A=function(e){return e.id===l},v=function(e){t.setFieldsValue(Object(C.a)({},e)),u(e.id)},I=function(){V().then((function(e){i(e)})).catch((function(e){return T.b.error(e)}))},E=function(){var e=Object(Ce.a)(c),t=e.findIndex((function(e){return-1===e.id}));-1!==t&&(e.splice(t,1),i(e)),u("")},w=function(){var e=Object(ke.a)(Se.a.mark((function e(n){var r,a,i,s,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,t.validateFields();case 4:r=e.sent,a=Object(Ce.a)(c),(i=a.findIndex((function(e){return n===e.id})))>-1?(s=a[i],o=Object(C.a)(Object(C.a)({},s),r),a.splice(i,1,o),(d=o,l=-1===s.id?"new":"edit",f()({method:"new"===l?"post":"put",url:"brand",data:d}).catch((function(e){return e.response&&400===e.response.status?e.response.data&&e.response.data.name?Promise.reject(e.response.data.name[0]):Promise.reject("Please verify the information submitted."):Promise.reject("Something gone wrong saving the reservation.")}))).then((function(){I(),u("")})).catch((function(e){return T.b.error(e)})).finally((function(){return h(!1)}))):T.b.error("Something gone wrong. Please try again later."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Err:",e.t0);case 13:case"end":return e.stop()}var d,l}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),S=[{title:"Name",dataIndex:"name",editable:!0},{title:"Description",dataIndex:"description",editable:!0},{title:"Action",dataIndex:"action",width:"15%",render:function(e,t){return A(t)?Object(x.jsxs)(ee.b,{size:"small",children:[Object(x.jsx)(te.a,{title:"Save",children:Object(x.jsx)(D.a,{shape:"circle",loading:m,onClick:function(){return w(t.id)},icon:Object(x.jsx)(Qe.a,{})})}),Object(x.jsx)(Ne.a,{title:"Sure to cancel?",onConfirm:function(){return E(t.id)},children:Object(x.jsx)(D.a,{shape:"circle",icon:Object(x.jsx)(Pe.a,{})})})]}):Object(x.jsx)(te.a,{title:"Edit",children:Object(x.jsx)(D.a,{disabled:""!==l,shape:"circle",onClick:function(){return v(t)},icon:Object(x.jsx)($.a,{})})})}}].map((function(e){return e.editable?Object(C.a)(Object(C.a)({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:A(t)}}}):e}));return Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Brands Managment",bordered:!1,children:[Object(x.jsx)(D.a,{onClick:function(){y(1);var e={id:-1,name:"",description:""};v(e),i([e].concat(Object(Ce.a)(c)))},disabled:""!==l,type:"primary",style:{marginBottom:16},children:"Add a Brand"}),Object(x.jsx)(B.a,{form:t,component:!1,children:Object(x.jsx)(ne.a,{components:{body:{cell:Be}},bordered:!0,dataSource:c,columns:S,rowClassName:"editable-row",pagination:{onChange:function(e){y(e),E()},current:g}})})]})})};var qe=function(){var e=B.a.useForm(),t=Object(d.a)(e,1)[0],n=Object(r.useState)([]),a=Object(d.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),m=b[0],h=b[1],O=Object(r.useState)(1),p=Object(d.a)(O,2),g=p[0],y=p[1];Object(r.useEffect)((function(){I()}),[]);var A=function(e){return e.id===l},v=function(e){t.setFieldsValue(Object(C.a)({},e)),u(e.id)},I=function(){pe().then((function(e){i(e)})).catch((function(e){return T.b.error(e)}))},E=function(){var e=Object(Ce.a)(c),t=e.findIndex((function(e){return-1===e.id}));-1!==t&&(e.splice(t,1),i(e)),u("")},w=function(){var e=Object(ke.a)(Se.a.mark((function e(n){var r,a,i,s,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,t.validateFields();case 4:r=e.sent,a=Object(Ce.a)(c),(i=a.findIndex((function(e){return n===e.id})))>-1?(s=a[i],o=Object(C.a)(Object(C.a)({},s),r),a.splice(i,1,o),(d=o,l=-1===s.id?"new":"edit",f()({method:"new"===l?"post":"put",url:"paymentType",data:d}).catch((function(e){return e.response&&400===e.response.status?e.response.data&&e.response.data.name?Promise.reject(e.response.data.name[0]):Promise.reject("Please verify the information submitted."):Promise.reject("Something gone wrong saving the reservation.")}))).then((function(){I(),u("")})).catch((function(e){return T.b.error(e)})).finally((function(){return h(!1)}))):T.b.error("Something gone wrong. Please try again later."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Err:",e.t0);case 13:case"end":return e.stop()}var d,l}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),S=[{title:"Name",dataIndex:"name",editable:!0},{title:"Description",dataIndex:"description",editable:!0},{title:"Action",dataIndex:"action",width:"15%",render:function(e,t){return A(t)?Object(x.jsxs)(ee.b,{size:"small",children:[Object(x.jsx)(te.a,{title:"Save",children:Object(x.jsx)(D.a,{shape:"circle",loading:m,onClick:function(){return w(t.id)},icon:Object(x.jsx)(Qe.a,{})})}),Object(x.jsx)(Ne.a,{title:"Sure to cancel?",onConfirm:function(){return E(t.id)},children:Object(x.jsx)(D.a,{shape:"circle",icon:Object(x.jsx)(Pe.a,{})})})]}):Object(x.jsx)(te.a,{title:"Edit",children:Object(x.jsx)(D.a,{disabled:""!==l,shape:"circle",onClick:function(){return v(t)},icon:Object(x.jsx)($.a,{})})})}}].map((function(e){return e.editable?Object(C.a)(Object(C.a)({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:A(t)}}}):e}));return Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Payment Types Managment",bordered:!1,children:[Object(x.jsx)(D.a,{onClick:function(){y(1);var e={id:-1,name:"",description:""};v(e),i([e].concat(Object(Ce.a)(c)))},type:"primary",disabled:""!==l,style:{marginBottom:16},children:"Add a Payment Type"}),Object(x.jsx)(B.a,{form:t,component:!1,children:Object(x.jsx)(ne.a,{components:{body:{cell:Be}},bordered:!0,dataSource:c,columns:S,rowClassName:"editable-row",pagination:{onChange:function(e){y(e),E()},current:g}})})]})})};var Je=function(){var e=B.a.useForm(),t=Object(d.a)(e,1)[0],n=Object(r.useState)([]),a=Object(d.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),m=b[0],h=b[1],O=Object(r.useState)(1),p=Object(d.a)(O,2),g=p[0],y=p[1];Object(r.useEffect)((function(){I()}),[]);var A=function(e){return e.id===l},v=function(e){t.setFieldsValue(Object(C.a)({},e)),u(e.id)},I=function(){Ie().then((function(e){i(e)})).catch((function(e){return T.b.error(e)}))},E=function(){var e=Object(Ce.a)(c),t=e.findIndex((function(e){return-1===e.id}));-1!==t&&(e.splice(t,1),i(e)),u("")},w=function(){var e=Object(ke.a)(Se.a.mark((function e(n){var r,a,i,s,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,t.validateFields();case 4:r=e.sent,a=Object(Ce.a)(c),(i=a.findIndex((function(e){return n===e.id})))>-1?(s=a[i],o=Object(C.a)(Object(C.a)({},s),r),a.splice(i,1,o),(d=o,l=-1===s.id?"new":"edit",f()({method:"new"===l?"post":"put",url:"documentType",data:d}).catch((function(e){return e.response&&400===e.response.status?e.response.data&&e.response.data.name?Promise.reject(e.response.data.name[0]):Promise.reject("Please verify the information submitted."):Promise.reject("Something gone wrong saving the reservation.")}))).then((function(){I(),u("")})).catch((function(e){return T.b.error(e)})).finally((function(){return h(!1)}))):T.b.error("Something gone wrong. Please try again later."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Err:",e.t0);case 13:case"end":return e.stop()}var d,l}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),S=[{title:"Name",dataIndex:"name",editable:!0},{title:"Description",dataIndex:"description",editable:!0},{title:"Action",dataIndex:"action",width:"15%",render:function(e,t){return A(t)?Object(x.jsxs)(ee.b,{size:"small",children:[Object(x.jsx)(te.a,{title:"Save",children:Object(x.jsx)(D.a,{shape:"circle",loading:m,onClick:function(){return w(t.id)},icon:Object(x.jsx)(Qe.a,{})})}),Object(x.jsx)(Ne.a,{title:"Sure to cancel?",onConfirm:function(){return E(t.id)},children:Object(x.jsx)(D.a,{shape:"circle",icon:Object(x.jsx)(Pe.a,{})})})]}):Object(x.jsx)(te.a,{title:"Edit",children:Object(x.jsx)(D.a,{disabled:""!==l,shape:"circle",onClick:function(){return v(t)},icon:Object(x.jsx)($.a,{})})})}}].map((function(e){return e.editable?Object(C.a)(Object(C.a)({},e),{},{onCell:function(t){return{record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:A(t)}}}):e}));return Object(x.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(x.jsxs)(q.a,{title:"Document Types Managment",bordered:!1,children:[Object(x.jsx)(D.a,{onClick:function(){y(1);var e={id:-1,name:"",description:""};v(e),i([e].concat(Object(Ce.a)(c)))},disabled:""!==l,type:"primary",style:{marginBottom:16},children:"Add a Document Type"}),Object(x.jsx)(B.a,{form:t,component:!1,children:Object(x.jsx)(ne.a,{components:{body:{cell:Be}},bordered:!0,dataSource:c,columns:S,rowClassName:"editable-row",pagination:{onChange:function(e){y(e),E()},current:g}})})]})})};n(391);function De(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],c=B.a.useForm(),i=Object(d.a)(c,1)[0],s=Object(o.f)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(q.a,{id:"register-form",children:Object(x.jsxs)(B.a,{initialValues:{requiredMarkValue:"optional"},onFinish:function(e){var t;console.log(e),a(!0),(t=e,f.a.post("user",t).catch((function(e){if(400===e.response.status){if(console.log(e.response),e.response.data.bussinessValidation){var t={};switch(e.response.data.bussinessValidation[0]){case"The username is already taken":t.username="The username is already taken";break;case"There is already an account with this email address":t.emailAddress="There is already an account with this email address";break;default:return T.b.error("An unexpected error ocurred"),Promise.reject(null)}return Promise.reject(t)}return Promise.reject(e.response.data)}return T.b.error("An unexpected error ocurred"),Promise.reject(null)}))).then((function(){return s.push("./login")})).catch((function(e){e&&Object.keys(e).forEach((function(t){i.setFields([{name:t,errors:[e[t]]}])}))})).finally((function(){return a(!1)}))},layout:"vertical",form:i,requiredMark:"optional",children:[Object(x.jsx)(B.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(x.jsx)(U.a,{})}),Object(x.jsx)(B.a.Item,{name:"emailAddress",label:"Email Address",rules:[{type:"email",message:"The input is not valid E-mail!"}],children:Object(x.jsx)(U.a,{})}),Object(x.jsx)(B.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"},{max:10,message:"The password is too large (maximum is 10 characters)"},{min:6,message:"The password is too short (minimum is 6 characters)"}],hasFeedback:!0,children:Object(x.jsx)(U.a.Password,{})}),Object(x.jsx)(B.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(x.jsx)(U.a.Password,{})}),Object(x.jsx)(B.a.Item,{className:"no-bottom-margin",children:Object(x.jsx)(D.a,{block:!0,type:"primary",htmlType:"submit",className:"login-form-button",loading:n,children:n?"Creating Account":"Create Account"})})]})})})}var Ye=function(){return Object(x.jsx)(Y.a,{className:"fullHeight",type:"flex",justify:"center",align:"middle",children:Object(x.jsx)(M.a,{children:Object(x.jsx)(De,{})})})};var Me=function(){return Object(x.jsx)(y,{children:Object(x.jsxs)(s.a,{basename:"/rent-a-car",children:[Object(x.jsx)(P,{path:["/cars","/reservations","/clients","/bodyTypes","/brands","/documentypes","/paymentypes"],children:Object(x.jsxs)(k,{children:[Object(x.jsx)(o.b,{exact:!0,path:["/cars/new","/cars/edit/:id","/cars/show/:id"],component:W}),Object(x.jsx)(o.b,{exact:!0,path:"/cars",component:re}),Object(x.jsx)(o.b,{exact:!0,path:["/reservations/new","/reservations/show/:id","/reservations/edit/:id"],component:xe}),Object(x.jsx)(o.b,{exact:!0,path:"/reservations",component:ue}),Object(x.jsx)(o.b,{exact:!0,path:["/clients/new","/clients/show/:id","/clients/edit/:id"],component:Ee}),Object(x.jsx)(o.b,{exact:!0,path:"/clients",component:Ae}),Object(x.jsx)(o.b,{exact:!0,path:"/bodytypes",component:Te}),Object(x.jsx)(o.b,{exact:!0,path:"/brands",component:Fe}),Object(x.jsx)(o.b,{exact:!0,path:"/paymentypes",component:qe}),Object(x.jsx)(o.b,{exact:!0,path:"/documentypes",component:Je})]})}),Object(x.jsx)(o.b,{exact:!0,path:"/register",component:Ye}),Object(x.jsx)(o.b,{exact:!0,path:["/","/login"],component:se})]})})},Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,418)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Ke="https://pbarrera.azurewebsites.net/api/",Re=function(){f.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;return 401!==e.response.status||t._retry?Promise.reject(e):(t._retry=!0,f.a.post(Ke+"token/refreshToken",{},{withCredentials:!0}).then((function(e){if(200===e.status)return localStorage.setItem("token",e.data.token),f.a.defaults.headers.common.Authorization="Bearer "+e.data.token,t.headers.Authorization="Bearer "+e.data.token,f()(t)})).catch((function(t){return localStorage.removeItem("token"),window.location="/login",Promise.reject(e)})))}))};(function(){f.a.defaults.baseURL=Ke})(),Re(),i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(Me,{})}),document.getElementById("root")),Ue()}},[[392,1,2]]]);
//# sourceMappingURL=main.655e0adb.chunk.js.map